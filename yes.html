<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Congratulations üíò</title>
  <style>
    :root{
      --card:#ffffffde;
      --text:#111;
      --shadow: 0 18px 90px rgba(0,0,0,.18);
    }
    *{box-sizing:border-box}
    body{
      margin:0; min-height:100vh; overflow:hidden;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      display:flex; align-items:center; justify-content:center;
      padding:22px;
      background:
        radial-gradient(900px 650px at 20% 25%, #fff1f2, transparent 60%),
        radial-gradient(900px 650px at 80% 20%, #e9d5ff, transparent 60%),
        radial-gradient(900px 650px at 55% 90%, #dbeafe, transparent 60%),
        linear-gradient(180deg, #fff, #ffe4ec);
      position:relative;
    }

    /* Soft photo background */
    .bgPhoto{
      position:fixed; inset:0; z-index:-4;
      background-image:url("hands.jpg");
      background-size:cover;
      background-position:center;
      filter: blur(14px) brightness(1.1) saturate(1.15);
      opacity:.22;
      transform: scale(1.08);
    }

    canvas{ position:fixed; inset:0; z-index:-3; }

    .sparkle{
      position:fixed; z-index:-2;
      width:6px; height:6px; border-radius:999px;
      background: rgba(255,255,255,.95);
      box-shadow: 0 0 18px rgba(255,255,255,.95);
      opacity:.9;
      animation: twinkle 1.8s infinite ease-in-out;
      pointer-events:none;
    }
    @keyframes twinkle{
      0%,100%{ transform: scale(.8); opacity:.6; }
      50%{ transform: scale(1.4); opacity:1; }
    }

    .heart{
      position:fixed; bottom:-40px;
      opacity:.95; pointer-events:none;
      filter: drop-shadow(0 10px 18px rgba(0,0,0,.10));
      animation: floatUp linear forwards;
      z-index:-1;
    }
    @keyframes floatUp{
      to{ transform: translateY(-120vh) translateX(var(--drift)) rotate(25deg); opacity:1; }
    }

    .balloon{
      position:fixed; bottom:-120px;
      width:46px; height:60px; border-radius:999px;
      opacity:.96; pointer-events:none;
      filter: drop-shadow(0 14px 20px rgba(0,0,0,.12));
      animation: balloonUp linear forwards;
      background:
        radial-gradient(circle at 30% 28%, rgba(255,255,255,.85), transparent 38%),
        linear-gradient(180deg, rgba(255,255,255,.16), rgba(0,0,0,.10));
      z-index:-1;
    }
    .balloon:after{
      content:"";
      position:absolute; left:50%; top:58px;
      width:2px; height:75px;
      background: rgba(0,0,0,.16);
      transform: translateX(-50%);
    }
    @keyframes balloonUp{
      to{ transform: translateY(-130vh) translateX(var(--drift)) rotate(var(--rot)); opacity:1; }
    }

    .confetti{
      position:fixed; top:-20px; left:0; z-index:9998;
      width:10px; height:14px;
      opacity:.95;
      transform: rotate(0deg);
      animation: fall 2.2s linear forwards;
      pointer-events:none;
    }
    @keyframes fall{ to{ transform: translateY(110vh) rotate(900deg); opacity:1; } }

    .card{
      width:min(940px, 96vw);
      background:var(--card);
      border:1px solid rgba(255,255,255,.9);
      backdrop-filter: blur(10px);
      border-radius:36px;
      padding:38px 22px 28px;
      text-align:center;
      box-shadow: var(--shadow);
      position:relative;
      overflow:hidden;
    }
    .shine{
      position:absolute; inset:-95px -175px auto auto;
      width:380px; height:380px;
      background: radial-gradient(circle, rgba(255,255,255,.95), transparent 60%);
      transform: rotate(25deg);
      opacity:.45; pointer-events:none;
    }
    .badge{
      display:inline-flex; align-items:center; gap:10px;
      padding:10px 14px; border-radius:999px;
      background:#ffffffef;
      border:1px solid #fff;
      font-weight:950; color:#111;
      box-shadow: 0 10px 24px rgba(0,0,0,.10);
      margin-bottom:14px;
    }
    .pulse{
      font-size:66px;
      margin-bottom:6px;
      animation: pulse 1.15s infinite ease-in-out;
      filter: drop-shadow(0 14px 26px rgba(0,0,0,.10));
    }
    @keyframes pulse{ 0%,100%{transform:scale(1)} 50%{transform:scale(1.14)} }

    h1{
      margin: 0 0 10px;
      font-size: clamp(34px, 4.7vw, 64px);
      color:var(--text);
      letter-spacing:.2px;
      text-shadow: 0 10px 30px rgba(0,0,0,.07);
      animation: pop .9s ease both;
    }
    @keyframes pop{
      from{ transform: translateY(10px) scale(.96); opacity:0; }
      to{ transform: translateY(0) scale(1); opacity:1; }
    }
    .big{
      margin: 10px auto 0;
      width:min(800px, 95%);
      font-size: clamp(16px, 2.6vw, 28px);
      font-weight:950;
      color:#1a1a1a;
      line-height:1.45;
    }
    .sub{
      margin-top:12px;
      font-size: 14px;
      opacity:.88;
      font-weight:900;
    }

    .moreBtn{
      margin-top:18px;
      display:inline-flex; gap:10px;
      align-items:center; justify-content:center;
      padding:14px 18px;
      border-radius:18px;
      background:#111; color:#fff;
      font-weight:950;
      border:none; cursor:pointer;
      box-shadow: 0 14px 28px rgba(0,0,0,.15);
      transition: transform .12s ease, filter .12s ease;
    }
    .moreBtn:hover{ filter: brightness(1.05); transform: translateY(-1px); }
    .moreBtn:active{ transform: scale(.98); }

    .musicBtn{
      position:fixed; bottom:16px; left:50%;
      transform: translateX(-50%);
      padding:12px 16px;
      border-radius:18px;
      border:none;
      font-weight:950;
      background:#111;
      color:#fff;
      cursor:pointer;
      box-shadow: 0 14px 28px rgba(0,0,0,.15);
      z-index:9999;
    }
  </style>
</head>
<body>
  <div class="bgPhoto"></div>
  <canvas id="fx"></canvas>

  <audio id="bg" src="stream.mp3" preload="auto" loop></audio>
  <button id="playBtn" class="musicBtn">Play Music üéµ</button>

  <div class="card">
    <div class="shine"></div>
    <div class="badge">üíñ YES CONFIRMED üíñ</div>
    <div class="pulse">üéÄ</div>
    <h1>Congratulations!</h1>
    <div class="big">
      You are <b>Pranay‚Äôs</b> Valentine for his complete life ü•∞üíç
    </div>
    <div class="sub">P.S. Ab toh lifetime booking ho gayi üòåüíò</div>
    <button class="moreBtn" id="more">More celebration üéâ</button>
  </div>

  <script>
    // Sparkles
    for(let i=0;i<30;i++){
      const s=document.createElement("div");
      s.className="sparkle";
      s.style.left=(Math.random()*100)+"vw";
      s.style.top=(Math.random()*100)+"vh";
      s.style.animationDelay=(Math.random()*1.8)+"s";
      s.style.opacity=(0.5+Math.random()*0.5);
      document.body.appendChild(s);
    }

    // Hearts + balloons
    function spawnHeart(){
      const h=document.createElement("div");
      h.className="heart";
      h.textContent = Math.random()<.33 ? "üíñ" : (Math.random()<.5 ? "üíò" : "üíû");
      h.style.left=(Math.random()*100)+"vw";
      h.style.setProperty("--drift",(Math.random()*160-80)+"px");
      h.style.animationDuration=(3+Math.random()*3.5)+"s";
      h.style.fontSize=(14+Math.random()*22)+"px";
      document.body.appendChild(h);
      setTimeout(()=>h.remove(),8000);
    }
    function spawnBalloon(){
      const b=document.createElement("div");
      b.className="balloon";
      b.style.left=(Math.random()*100)+"vw";
      b.style.setProperty("--drift",(Math.random()*220-110)+"px");
      b.style.setProperty("--rot",(Math.random()*18-9)+"deg");
      b.style.animationDuration=(6+Math.random()*5)+"s";
      b.style.backgroundColor=`hsl(${Math.random()*360}, 90%, 72%)`;
      document.body.appendChild(b);
      setTimeout(()=>b.remove(),12500);
    }
    setInterval(spawnHeart, 170);
    setInterval(spawnBalloon, 560);

    // Confetti
    function confettiBurst(count){
      for(let i=0;i<count;i++){
        const c=document.createElement("div");
        c.className="="confetti";
      }
    }
    function burst(count){
      for(let i=0;i<count;i++){
        const c=document.createElement("div");
        c.className="confetti";
        c.style.left=(Math.random()*100)+"vw";
        c.style.background=`hsl(${Math.random()*360}, 90%, 60%)`;
        c.style.animationDuration=(1.6+Math.random()*1.6)+"s";
        c.style.width=(6+Math.random()*10)+"px";
        c.style.height=(8+Math.random()*16)+"px";
        document.body.appendChild(c);
        setTimeout(()=>c.remove(),3800);
      }
    }
    burst(260);

    // Fireworks
    const canvas=document.getElementById("fx");
    const ctx=canvas.getContext("2d");
    let W,H;
    function resize(){ W=canvas.width=innerWidth; H=canvas.height=innerHeight; }
    addEventListener("resize", resize); resize();

    const bursts=[];
    function addBurst(x,y){
      const n=85+Math.floor(Math.random()*45);
      const hue=Math.random()*360;
      const parts=[];
      for(let i=0;i<n;i++){
        const a=(Math.PI*2)*(i/n);
        const sp=2+Math.random()*4.6;
        parts.push({
          x,y,
          vx:Math.cos(a)*sp*(0.7+Math.random()*0.6),
          vy:Math.sin(a)*sp*(0.7+Math.random()*0.6),
          life:80+Math.random()*35,
          hue
        });
      }
      bursts.push(parts);
    }
    let t=0;
    function loop(){
      ctx.fillStyle="rgba(255,255,255,0.10)";
      ctx.fillRect(0,0,W,H);

      for(let b=bursts.length-1;b>=0;b--){
        const parts=bursts[b];
        for(let i=parts.length-1;i>=0;i--){
          const p=parts[i];
          p.x+=p.vx; p.y+=p.vy;
          p.vy+=0.03;
          p.vx*=0.992; p.vy*=0.992;
          p.life--;

          ctx.beginPath();
          ctx.fillStyle=`hsla(${p.hue},95%,62%,${Math.max(0,p.life/95)})`;
          ctx.arc(p.x,p.y,2,0,Math.PI*2);
          ctx.fill();

          if(p.life<=0) parts.splice(i,1);
        }
        if(parts.length===0) bursts.splice(b,1);
      }

      t++;
      if(t%24===0){
        addBurst(Math.random()*W, (0.15+Math.random()*0.45)*H);
      }
      requestAnimationFrame(loop);
    }
    for(let i=0;i<4;i++) addBurst(Math.random()*W, (0.18+Math.random()*0.35)*H);
    loop();

    document.getElementById("more").addEventListener("click", ()=>{
      burst(320);
      for(let i=0;i<6;i++) addBurst(Math.random()*W, (0.18+Math.random()*0.45)*H);
    });

    // Music (best effort autoplay + guaranteed button)
    const bg=document.getElementById("bg");
    const playBtn=document.getElementById("playBtn");

    async function tryPlay(){
      try{
        bg.currentTime = 0;
        bg.volume = 1.0;
        await bg.play();
        playBtn.style.display="none";
      }catch(e){
        // blocked -> button stays visible
      }
    }
    playBtn.addEventListener("click", tryPlay);

    // if coming from YES click, attempt autoplay
    if(sessionStorage.getItem("shouldPlayMusic")==="1"){
      setTimeout(tryPlay, 150);
      sessionStorage.removeItem("shouldPlayMusic");
    }
  </script>
</body>
</html>
